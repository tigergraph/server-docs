= Release Notes

Release Date: Dec 1st, 2021


*For the running log of bug fixes, see xref:release-notes:change-log.adoc[].*

== Compatibility with TigerGraph 3.1

The following changes were made to the built-in roles in TigerGraph's Role-based Access Control

* The built-in role `queryreader` can no longer run queries that include updates to the database.
 ** To emulate the old `queryreader` role, create a role with all `queryreader` privileges, and also grant the `WRITE_DATA` privilege to the new role.
* The built-in role `admin` can no longer create users
 ** To emulate the old `admin` role, create a global role with all `admin` privileges, and also grant the `WRITE_USER` privilege to the new role.
* To learn more about role management and the privileges of built-in roles, see:
** xref:user-access:role-management.adoc[]
** xref:reference:list-of-privileges.adoc[]

== Compatibility with TigerGraph 2

Major revisions (e.g., from TigerGraph 2 to TigerGraph 3) are the opportunity to deliver significant improvements. While we make every effort to maintain backward compatibility, in selected cases APIs have changed or deprecated features have been dropped, in order to advance the overall product.

*Data migration*: A tool is available to migrate the data in TigerGraph 2.6 to TigerGraph 3.0. Please contact TigerGraph Support for assistance.

*Query and API compatibility*:

* Some gadmin syntax has changed. Notably. `gadmin set config` is now `gadmin config set`.  Please see xref:gadmin:management-with-gadmin.adoc[Managing with gadmin].
* Some features which were previously deprecated have been dropped. Please see xref:release-notes:v3.0-removal-of-previously-deprecated-features.adoc[V3.0 Removal of Previously Deprecated Features] for a detailed list.

== New Features

Below is a list of new features in TigerGraph 3.3:

=== Manageability
* Added xref:gadmin:management-with-gadmin.adoc#_gadmin_config_reset[gadmin config reset] command to reset a configuration parameter to its default value.
* Added the `--auto-restart` option to xref:gadmin:management-with-gadmin.adoc#_gadmin_start[gadmin start] that automatically restarts any service that goes down

=== Observability
* Improve loader/license violation error messaging

=== Data loading
* Added new parameter `update_vertex_only` to `POST /graph/{graph_name}` to allow update-only requests.

=== Developer efficiency - GraphStudio
* Aggregation in Visual Query Builder is renamed to Attachment
* Added the ability to xref:gui:graphstudio:explore-graph/graph-exploration-panel.adoc#_export_result[export a graph exploration] as a .png file or as .csv files.
* Added the ability to xref:gui:graphstudio:write-queries.adoc#_view_table_result[view the results of GSQL queries in a tabular format].
* Added a new widget xref:gui:graphstudio:build-graph-patterns/visual-query-builder-overview.adoc#_within["Within"] in Visual Query Builder to replicate a vertex pattern to be used in another pattern.
* Added support for nested expressions for aggregation functions in Visual Query Builder.
* Added support for xref:gui:graphstudio:build-graph-patterns/visual-query-builder-overview.adoc#_attachment[single-value attachment] in Visual Query Builder.
* Added the ability to xref:gui:graphstudio:write-queries.adoc#_save_as[save a query draft] under a different name than the name used to create the query.
* Added the ability to xref:gui:graphstudio:build-graph-patterns/visual-query-builder-overview.adoc#_save_as[save a visual pattern under a different name] than the name used to create the pattern in Visual Query Builder.

=== Admin Portal System Management
* Added the ability to xref:gui:admin-portal:management/user-management.adoc#_create_a_global_role[define and assign user-defined roles] to users in Admin Portal.
* Added xref:gui:admin-portal:components/gsql.adoc[the ability to update certain GSQL configuration parameters] from Admin Portal.
* Added xref:gui:admin-portal:gsql-output-file.adoc[the ability to download GSQL output files].


== Known Issues

=== Applications

* *GraphStudio*
 ** xref:gui:graphstudio:known-issues.adoc[Known Issues for GraphStudio]
 ** The No-Code Data Migration feature is in Alpha release. Your feedback would be appreciated.
 ** The No-Code Visual Query Builder is in Beta release. Your feedback would be appreciated.
* *AdminPortal*
 ** xref:gui:admin-portal:known-issues.adoc[Known Issues for AdminPortal]

=== *GSQL*

* *Multiple (Conjunctive) Path Patterns*:
 ** There are no known functional problems, but the performance has not been optimized. Your feedback would be appreciated.
* *DML type check error in V2 Syntax:*
 ** GSQL will report a wrong type check error for Query block with multiple POST-ACCUM clauses and Delete/Update attribute operation.
* *Turn on GSQL HA manually when upgrading from 3.0.x*
 ** Users who are upgrading from 3.0.X need to manually start GSQL HA service. Please reach out to support for help with the process documented in: https://tigergraph.freshdesk.com/a/solutions/articles/5000865072
* *Stale data visible after Deletes using index*
 ** Queries that use secondary index may still see the vertices being deleted until after the snapshots are fully rebuilt.
